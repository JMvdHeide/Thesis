Requirement already up-to-date: pip in ./VirtualEnv/lib/python3.7/site-packages (19.3.1)
Requirement already satisfied: torch in ./VirtualEnv/lib/python3.7/site-packages (1.3.1)
Requirement already satisfied: numpy in ./VirtualEnv/lib/python3.7/site-packages (from torch) (1.17.4)
Requirement already satisfied: torchvision in ./VirtualEnv/lib/python3.7/site-packages (0.4.2)
Requirement already satisfied: torch==1.3.1 in ./VirtualEnv/lib/python3.7/site-packages (from torchvision) (1.3.1)
Requirement already satisfied: numpy in ./VirtualEnv/lib/python3.7/site-packages (from torchvision) (1.17.4)
Requirement already satisfied: six in ./VirtualEnv/lib/python3.7/site-packages (from torchvision) (1.13.0)
Requirement already satisfied: pillow>=4.1.1 in ./VirtualEnv/lib/python3.7/site-packages (from torchvision) (6.2.1)
Requirement already satisfied: torchtext in ./VirtualEnv/lib/python3.7/site-packages (0.4.0)
Requirement already satisfied: numpy in ./VirtualEnv/lib/python3.7/site-packages (from torchtext) (1.17.4)
Requirement already satisfied: requests in ./VirtualEnv/lib/python3.7/site-packages (from torchtext) (2.22.0)
Requirement already satisfied: six in ./VirtualEnv/lib/python3.7/site-packages (from torchtext) (1.13.0)
Requirement already satisfied: tqdm in ./VirtualEnv/lib/python3.7/site-packages (from torchtext) (4.30.0)
Requirement already satisfied: torch in ./VirtualEnv/lib/python3.7/site-packages (from torchtext) (1.3.1)
Requirement already satisfied: urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1 in ./VirtualEnv/lib/python3.7/site-packages (from requests->torchtext) (1.25.7)
Requirement already satisfied: certifi>=2017.4.17 in ./VirtualEnv/lib/python3.7/site-packages (from requests->torchtext) (2019.11.28)
Requirement already satisfied: chardet<3.1.0,>=3.0.2 in ./VirtualEnv/lib/python3.7/site-packages (from requests->torchtext) (3.0.4)
Requirement already satisfied: idna<2.9,>=2.5 in ./VirtualEnv/lib/python3.7/site-packages (from requests->torchtext) (2.8)
Requirement already satisfied: configargparse in ./VirtualEnv/lib/python3.7/site-packages (0.15.1)
[2019-12-08 18:49:50,855 INFO] Extracting features...
[2019-12-08 18:49:51,025 INFO]  * number of source features: 0.
[2019-12-08 18:49:51,025 INFO]  * number of target features: 0.
[2019-12-08 18:49:51,025 INFO] Building `Fields` object...
[2019-12-08 18:49:51,025 INFO] Building & saving training data...
[2019-12-08 18:49:51,029 WARNING] Shards for corpus train already exist, won't be overwritten, pass the `-overwrite` option if you want to.
[2019-12-08 18:49:51,030 INFO] Building & saving validation data...
[2019-12-08 18:49:51,031 WARNING] Shards for corpus valid already exist, won't be overwritten, pass the `-overwrite` option if you want to.
[2019-12-08 18:49:53,378 INFO]  * src vocab size = 38
[2019-12-08 18:49:53,378 INFO]  * tgt vocab size = 42
[2019-12-08 18:49:53,378 INFO] Building model...
[2019-12-08 18:50:01,903 INFO] NMTModel(
  (encoder): RNNEncoder(
    (embeddings): Embeddings(
      (make_embedding): Sequential(
        (emb_luts): Elementwise(
          (0): Embedding(38, 500, padding_idx=1)
        )
      )
    )
    (rnn): LSTM(500, 500, num_layers=2, dropout=0.3)
  )
  (decoder): InputFeedRNNDecoder(
    (embeddings): Embeddings(
      (make_embedding): Sequential(
        (emb_luts): Elementwise(
          (0): Embedding(42, 500, padding_idx=1)
        )
      )
    )
    (dropout): Dropout(p=0.3, inplace=False)
    (rnn): StackedLSTM(
      (dropout): Dropout(p=0.3, inplace=False)
      (layers): ModuleList(
        (0): LSTMCell(1000, 500)
        (1): LSTMCell(500, 500)
      )
    )
    (attn): GlobalAttention(
      (linear_in): Linear(in_features=500, out_features=500, bias=False)
      (linear_out): Linear(in_features=1000, out_features=500, bias=False)
    )
  )
  (generator): Sequential(
    (0): Linear(in_features=500, out_features=42, bias=True)
    (1): Cast()
    (2): LogSoftmax()
  )
)
[2019-12-08 18:50:01,903 INFO] encoder: 4027000
[2019-12-08 18:50:01,903 INFO] decoder: 5800042
[2019-12-08 18:50:01,903 INFO] * number of parameters: 9827042
[2019-12-08 18:50:01,910 INFO] Starting training on GPU: [0]
[2019-12-08 18:50:01,910 INFO] Start training loop and validate every 50 steps...
[2019-12-08 18:50:01,911 INFO] Loading dataset from Data/SVO_AN/prepro.train.0.pt
[2019-12-08 18:50:03,089 INFO] number of examples: 128841
[2019-12-08 18:50:05,988 INFO] Step 50/ 2014; acc:  13.86; ppl: 179.82; xent: 5.19; lr: 1.00000; 6278/7063 tok/s;      4 sec
[2019-12-08 18:50:05,989 INFO] Loading dataset from Data/SVO_AN/prepro.valid.0.pt
[2019-12-08 18:50:06,427 INFO] number of examples: 16105
[2019-12-08 18:50:11,277 INFO] Validation perplexity: 4541.46
[2019-12-08 18:50:11,277 INFO] Validation accuracy: 3.07427
[2019-12-08 18:50:11,277 INFO] Model is improving ppl: inf --> 4541.46.
[2019-12-08 18:50:11,277 INFO] Model is improving acc: -inf --> 3.07427.
[2019-12-08 18:50:12,528 INFO] Step 100/ 2014; acc:  20.47; ppl: 55.07; xent: 4.01; lr: 1.00000; 3915/4404 tok/s;     11 sec
[2019-12-08 18:50:12,528 INFO] Loading dataset from Data/SVO_AN/prepro.valid.0.pt
[2019-12-08 18:50:12,600 INFO] number of examples: 16105
[2019-12-08 18:50:17,528 INFO] Validation perplexity: 9.23446
[2019-12-08 18:50:17,528 INFO] Validation accuracy: 43.4282
[2019-12-08 18:50:17,528 INFO] Model is improving ppl: 4541.46 --> 9.23446.
[2019-12-08 18:50:17,529 INFO] Model is improving acc: 3.07427 --> 43.4282.
[2019-12-08 18:50:18,759 INFO] Step 150/ 2014; acc:  40.35; ppl:  6.67; xent: 1.90; lr: 1.00000; 4108/4622 tok/s;     17 sec
[2019-12-08 18:50:18,760 INFO] Loading dataset from Data/SVO_AN/prepro.valid.0.pt
[2019-12-08 18:50:19,099 INFO] number of examples: 16105
[2019-12-08 18:50:23,991 INFO] Validation perplexity: 4.07207
[2019-12-08 18:50:23,991 INFO] Validation accuracy: 45.3945
[2019-12-08 18:50:23,991 INFO] Model is improving ppl: 9.23446 --> 4.07207.
[2019-12-08 18:50:23,992 INFO] Model is improving acc: 43.4282 --> 45.3945.
[2019-12-08 18:50:25,203 INFO] Step 200/ 2014; acc:  45.66; ppl:  4.15; xent: 1.42; lr: 1.00000; 3973/4470 tok/s;     23 sec
[2019-12-08 18:50:25,203 INFO] Loading dataset from Data/SVO_AN/prepro.valid.0.pt
[2019-12-08 18:50:25,266 INFO] number of examples: 16105
[2019-12-08 18:50:30,147 INFO] Validation perplexity: 4.16183
[2019-12-08 18:50:30,147 INFO] Validation accuracy: 40.7865
[2019-12-08 18:50:30,147 INFO] Decreasing patience: 2/3
[2019-12-08 18:50:31,362 INFO] Step 250/ 2014; acc:  47.49; ppl:  4.35; xent: 1.47; lr: 1.00000; 4156/4676 tok/s;     29 sec
[2019-12-08 18:50:31,362 INFO] Loading dataset from Data/SVO_AN/prepro.valid.0.pt
[2019-12-08 18:50:31,721 INFO] number of examples: 16105
[2019-12-08 18:50:36,723 INFO] Validation perplexity: 4.06417
[2019-12-08 18:50:36,723 INFO] Validation accuracy: 54.7021
[2019-12-08 18:50:36,723 INFO] Model is improving ppl: 4.07207 --> 4.06417.
[2019-12-08 18:50:36,723 INFO] Model is improving acc: 45.3945 --> 54.7021.
[2019-12-08 18:50:37,939 INFO] Step 300/ 2014; acc:  65.17; ppl:  2.66; xent: 0.98; lr: 1.00000; 3893/4379 tok/s;     36 sec
[2019-12-08 18:50:37,939 INFO] Loading dataset from Data/SVO_AN/prepro.valid.0.pt
[2019-12-08 18:50:38,002 INFO] number of examples: 16105
[2019-12-08 18:50:42,963 INFO] Validation perplexity: 1.98364
[2019-12-08 18:50:42,963 INFO] Validation accuracy: 80.9203
[2019-12-08 18:50:42,963 INFO] Model is improving ppl: 4.06417 --> 1.98364.
[2019-12-08 18:50:42,963 INFO] Model is improving acc: 54.7021 --> 80.9203.
[2019-12-08 18:50:44,202 INFO] Step 350/ 2014; acc:  93.70; ppl:  1.22; xent: 0.20; lr: 1.00000; 4087/4598 tok/s;     42 sec
[2019-12-08 18:50:44,203 INFO] Loading dataset from Data/SVO_AN/prepro.valid.0.pt
[2019-12-08 18:50:44,267 INFO] number of examples: 16105
[2019-12-08 18:50:49,215 INFO] Validation perplexity: 1.00239
[2019-12-08 18:50:49,216 INFO] Validation accuracy: 100
[2019-12-08 18:50:49,216 INFO] Model is improving ppl: 1.98364 --> 1.00239.
[2019-12-08 18:50:49,216 INFO] Model is improving acc: 80.9203 --> 100.
[2019-12-08 18:50:50,424 INFO] Step 400/ 2014; acc: 100.00; ppl:  1.00; xent: 0.00; lr: 1.00000; 4115/4629 tok/s;     49 sec
[2019-12-08 18:50:50,425 INFO] Loading dataset from Data/SVO_AN/prepro.valid.0.pt
[2019-12-08 18:50:50,759 INFO] number of examples: 16105
[2019-12-08 18:50:55,682 INFO] Validation perplexity: 1.00063
[2019-12-08 18:50:55,682 INFO] Validation accuracy: 100
[2019-12-08 18:50:55,682 INFO] Stalled patience: 2/3
[2019-12-08 18:50:56,904 INFO] Step 450/ 2014; acc: 100.00; ppl:  1.00; xent: 0.00; lr: 1.00000; 3951/4445 tok/s;     55 sec
[2019-12-08 18:50:56,904 INFO] Loading dataset from Data/SVO_AN/prepro.valid.0.pt
[2019-12-08 18:50:56,969 INFO] number of examples: 16105
[2019-12-08 18:51:01,910 INFO] Validation perplexity: 1.00034
[2019-12-08 18:51:01,910 INFO] Validation accuracy: 100
[2019-12-08 18:51:01,910 INFO] Stalled patience: 1/3
[2019-12-08 18:51:03,125 INFO] Step 500/ 2014; acc: 100.00; ppl:  1.00; xent: 0.00; lr: 1.00000; 4115/4629 tok/s;     61 sec
[2019-12-08 18:51:03,126 INFO] Loading dataset from Data/SVO_AN/prepro.valid.0.pt
[2019-12-08 18:51:03,462 INFO] number of examples: 16105
[2019-12-08 18:51:08,419 INFO] Validation perplexity: 1.00023
[2019-12-08 18:51:08,419 INFO] Validation accuracy: 100
[2019-12-08 18:51:08,419 INFO] Stalled patience: 0/3
[2019-12-08 18:51:08,419 INFO] Training finished after stalled validations. Early Stop!
[2019-12-08 18:51:08,419 INFO] Best model found at step 350
[2019-12-08 18:51:08,429 INFO] Saving checkpoint Models/SVO_AN_model_step_500.pt


###############################################################################
Peregrine Cluster
Job 8939311 for user 's2964007'
Finished at: Sun Dec  8 18:51:09 CET 2019

Job details:
============

Name                : onmt_test
User                : s2964007
Partition           : gpu
Nodes               : pg-gpu10
Cores               : 12
State               : COMPLETED
Submit              : 2019-12-08T18:29:40
Start               : 2019-12-08T18:49:08
End                 : 2019-12-08T18:51:09
Reserved walltime   : 00:20:00
Used walltime       : 00:02:01
Used CPU time       : 00:01:18 (efficiency:  5.41%)
% User (Computation): 91.89%
% System (I/O)      :  8.11%
Mem reserved        : 20000M/node
Max Mem used        : 2.76G (pg-gpu10)
Max Disk Write      : 30.72K (pg-gpu10)
Max Disk Read       : 45.68M (pg-gpu10)


Acknowledgements:
=================

Please see this page if you want to acknowledge Peregrine in your publications:

https://redmine.hpc.rug.nl/redmine/projects/peregrine/wiki/ScientificOutput

################################################################################
