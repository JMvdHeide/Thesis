[2019-12-09 12:29:17,044 INFO] Extracting features...
[2019-12-09 12:29:17,095 INFO]  * number of source features: 0.
[2019-12-09 12:29:17,095 INFO]  * number of target features: 0.
[2019-12-09 12:29:17,095 INFO] Building `Fields` object...
[2019-12-09 12:29:17,095 INFO] Building & saving training data...
[2019-12-09 12:29:17,098 WARNING] Shards for corpus train already exist, won't be overwritten, pass the `-overwrite` option if you want to.
[2019-12-09 12:29:17,098 INFO] Building & saving validation data...
[2019-12-09 12:29:17,099 WARNING] Shards for corpus valid already exist, won't be overwritten, pass the `-overwrite` option if you want to.
[2019-12-09 12:29:18,788 INFO]  * src vocab size = 38
[2019-12-09 12:29:18,788 INFO]  * tgt vocab size = 42
[2019-12-09 12:29:18,788 INFO] Building model...
[2019-12-09 12:29:28,923 INFO] NMTModel(
  (encoder): RNNEncoder(
    (embeddings): Embeddings(
      (make_embedding): Sequential(
        (emb_luts): Elementwise(
          (0): Embedding(38, 500, padding_idx=1)
        )
      )
    )
    (rnn): LSTM(500, 500, num_layers=2, dropout=0.3)
  )
  (decoder): InputFeedRNNDecoder(
    (embeddings): Embeddings(
      (make_embedding): Sequential(
        (emb_luts): Elementwise(
          (0): Embedding(42, 500, padding_idx=1)
        )
      )
    )
    (dropout): Dropout(p=0.3, inplace=False)
    (rnn): StackedLSTM(
      (dropout): Dropout(p=0.3, inplace=False)
      (layers): ModuleList(
        (0): LSTMCell(1000, 500)
        (1): LSTMCell(500, 500)
      )
    )
    (attn): GlobalAttention(
      (linear_in): Linear(in_features=500, out_features=500, bias=False)
      (linear_out): Linear(in_features=1000, out_features=500, bias=False)
    )
  )
  (generator): Sequential(
    (0): Linear(in_features=500, out_features=42, bias=True)
    (1): Cast()
    (2): LogSoftmax()
  )
)
[2019-12-09 12:29:28,923 INFO] encoder: 4027000
[2019-12-09 12:29:28,923 INFO] decoder: 5800042
[2019-12-09 12:29:28,923 INFO] * number of parameters: 9827042
[2019-12-09 12:29:28,929 INFO] Starting training on GPU: [0]
[2019-12-09 12:29:28,929 INFO] Start training loop and validate every 50 steps...
[2019-12-09 12:29:28,929 INFO] Loading dataset from Data/SVO_AN/prepro.train.0.pt
[2019-12-09 12:29:30,276 INFO] number of examples: 128841
[2019-12-09 12:29:32,658 INFO] Step 50/ 2014; acc:  12.33; ppl: 277.83; xent: 5.63; lr: 1.00000; 6864/7723 tok/s;      4 sec
[2019-12-09 12:29:32,659 INFO] Loading dataset from Data/SVO_AN/prepro.valid.0.pt
[2019-12-09 12:29:33,190 INFO] number of examples: 16105
[2019-12-09 12:29:38,350 INFO] Validation perplexity: 380.414
[2019-12-09 12:29:38,351 INFO] Validation accuracy: 19.148
[2019-12-09 12:29:38,351 INFO] Model is improving ppl: inf --> 380.414.
[2019-12-09 12:29:38,351 INFO] Model is improving acc: -inf --> 19.148.
[2019-12-09 12:29:39,663 INFO] Step 100/ 2014; acc:  18.83; ppl: 64.65; xent: 4.17; lr: 1.00000; 3655/4112 tok/s;     11 sec
[2019-12-09 12:29:39,663 INFO] Loading dataset from Data/SVO_AN/prepro.valid.0.pt
[2019-12-09 12:29:39,741 INFO] number of examples: 16105
[2019-12-09 12:29:44,871 INFO] Validation perplexity: 42.8542
[2019-12-09 12:29:44,871 INFO] Validation accuracy: 23.1895
[2019-12-09 12:29:44,871 INFO] Model is improving ppl: 380.414 --> 42.8542.
[2019-12-09 12:29:44,871 INFO] Model is improving acc: 19.148 --> 23.1895.
[2019-12-09 12:29:46,170 INFO] Step 150/ 2014; acc:  35.27; ppl:  8.21; xent: 2.10; lr: 1.00000; 3934/4426 tok/s;     17 sec
[2019-12-09 12:29:46,170 INFO] Loading dataset from Data/SVO_AN/prepro.valid.0.pt
[2019-12-09 12:29:46,535 INFO] number of examples: 16105
[2019-12-09 12:29:51,522 INFO] Validation perplexity: 6.65785
[2019-12-09 12:29:51,522 INFO] Validation accuracy: 33.1471
[2019-12-09 12:29:51,523 INFO] Model is improving ppl: 42.8542 --> 6.65785.
[2019-12-09 12:29:51,523 INFO] Model is improving acc: 23.1895 --> 33.1471.
[2019-12-09 12:29:52,754 INFO] Step 200/ 2014; acc:  43.71; ppl:  4.68; xent: 1.54; lr: 1.00000; 3888/4374 tok/s;     24 sec
[2019-12-09 12:29:52,755 INFO] Loading dataset from Data/SVO_AN/prepro.valid.0.pt
[2019-12-09 12:29:52,818 INFO] number of examples: 16105
[2019-12-09 12:29:58,719 INFO] Validation perplexity: 3.87744
[2019-12-09 12:29:58,720 INFO] Validation accuracy: 41.5075
[2019-12-09 12:29:58,720 INFO] Model is improving ppl: 6.65785 --> 3.87744.
[2019-12-09 12:29:58,720 INFO] Model is improving acc: 33.1471 --> 41.5075.
[2019-12-09 12:30:00,035 INFO] Step 250/ 2014; acc:  47.47; ppl:  4.03; xent: 1.39; lr: 1.00000; 3516/3956 tok/s;     31 sec
[2019-12-09 12:30:00,035 INFO] Loading dataset from Data/SVO_AN/prepro.valid.0.pt
[2019-12-09 12:30:00,398 INFO] number of examples: 16105
[2019-12-09 12:30:05,481 INFO] Validation perplexity: 4.12728
[2019-12-09 12:30:05,481 INFO] Validation accuracy: 46.2334
[2019-12-09 12:30:05,482 INFO] Stalled patience: 2/3
[2019-12-09 12:30:06,756 INFO] Step 300/ 2014; acc:  53.01; ppl:  3.34; xent: 1.21; lr: 1.00000; 3809/4285 tok/s;     38 sec
[2019-12-09 12:30:06,756 INFO] Loading dataset from Data/SVO_AN/prepro.valid.0.pt
[2019-12-09 12:30:06,818 INFO] number of examples: 16105
[2019-12-09 12:30:11,925 INFO] Validation perplexity: 2.99387
[2019-12-09 12:30:11,925 INFO] Validation accuracy: 56.0488
[2019-12-09 12:30:11,925 INFO] Model is improving ppl: 3.87744 --> 2.99387.
[2019-12-09 12:30:11,925 INFO] Model is improving acc: 41.5075 --> 56.0488.
[2019-12-09 12:30:13,205 INFO] Step 350/ 2014; acc:  56.96; ppl:  3.12; xent: 1.14; lr: 1.00000; 3970/4466 tok/s;     44 sec
[2019-12-09 12:30:13,206 INFO] Loading dataset from Data/SVO_AN/prepro.valid.0.pt
[2019-12-09 12:30:13,270 INFO] number of examples: 16105
[2019-12-09 12:30:18,349 INFO] Validation perplexity: 7.41238
[2019-12-09 12:30:18,349 INFO] Validation accuracy: 47.6257
[2019-12-09 12:30:18,349 INFO] Decreasing patience: 2/3
[2019-12-09 12:30:19,623 INFO] Step 400/ 2014; acc:  68.22; ppl:  2.44; xent: 0.89; lr: 1.00000; 3989/4488 tok/s;     51 sec
[2019-12-09 12:30:19,623 INFO] Loading dataset from Data/SVO_AN/prepro.valid.0.pt
[2019-12-09 12:30:19,959 INFO] number of examples: 16105
[2019-12-09 12:30:24,980 INFO] Validation perplexity: 1.60872
[2019-12-09 12:30:24,980 INFO] Validation accuracy: 81.9801
[2019-12-09 12:30:24,980 INFO] Model is improving ppl: 2.99387 --> 1.60872.
[2019-12-09 12:30:24,980 INFO] Model is improving acc: 56.0488 --> 81.9801.
[2019-12-09 12:30:26,222 INFO] Step 450/ 2014; acc:  91.59; ppl:  1.31; xent: 0.27; lr: 1.00000; 3880/4365 tok/s;     57 sec
[2019-12-09 12:30:26,222 INFO] Loading dataset from Data/SVO_AN/prepro.valid.0.pt
[2019-12-09 12:30:26,288 INFO] number of examples: 16105
[2019-12-09 12:30:31,360 INFO] Validation perplexity: 1.01025
[2019-12-09 12:30:31,360 INFO] Validation accuracy: 100
[2019-12-09 12:30:31,360 INFO] Model is improving ppl: 1.60872 --> 1.01025.
[2019-12-09 12:30:31,360 INFO] Model is improving acc: 81.9801 --> 100.
[2019-12-09 12:30:32,753 INFO] Step 500/ 2014; acc: 100.00; ppl:  1.00; xent: 0.00; lr: 1.00000; 3920/4410 tok/s;     64 sec
[2019-12-09 12:30:32,753 INFO] Loading dataset from Data/SVO_AN/prepro.valid.0.pt
[2019-12-09 12:30:33,093 INFO] number of examples: 16105
[2019-12-09 12:30:38,108 INFO] Validation perplexity: 1.00083
[2019-12-09 12:30:38,108 INFO] Validation accuracy: 100
[2019-12-09 12:30:38,108 INFO] Stalled patience: 2/3
[2019-12-09 12:30:39,386 INFO] Step 550/ 2014; acc: 100.00; ppl:  1.00; xent: 0.00; lr: 1.00000; 3860/4342 tok/s;     70 sec
[2019-12-09 12:30:39,386 INFO] Loading dataset from Data/SVO_AN/prepro.valid.0.pt
[2019-12-09 12:30:39,451 INFO] number of examples: 16105
[2019-12-09 12:30:44,441 INFO] Validation perplexity: 1.00037
[2019-12-09 12:30:44,441 INFO] Validation accuracy: 100
[2019-12-09 12:30:44,441 INFO] Stalled patience: 1/3
[2019-12-09 12:30:45,668 INFO] Step 600/ 2014; acc: 100.00; ppl:  1.00; xent: 0.00; lr: 1.00000; 4075/4585 tok/s;     77 sec
[2019-12-09 12:30:45,668 INFO] Loading dataset from Data/SVO_AN/prepro.valid.0.pt
[2019-12-09 12:30:46,018 INFO] number of examples: 16105
[2019-12-09 12:30:51,135 INFO] Validation perplexity: 1.00023
[2019-12-09 12:30:51,135 INFO] Validation accuracy: 100
[2019-12-09 12:30:51,135 INFO] Stalled patience: 0/3
[2019-12-09 12:30:51,136 INFO] Training finished after stalled validations. Early Stop!
[2019-12-09 12:30:51,136 INFO] Best model found at step 450
[2019-12-09 12:30:51,146 INFO] Saving checkpoint Models/SVO_AN_model_step_600.pt
Traceback (most recent call last):
  File "/home/s2964007/Thesis/VirtualEnv/bin/onmt_translate", line 8, in <module>
    sys.exit(main())
  File "/home/s2964007/Thesis/VirtualEnv/lib/python3.7/site-packages/onmt/bin/translate.py", line 49, in main
    translate(opt)
  File "/home/s2964007/Thesis/VirtualEnv/lib/python3.7/site-packages/onmt/bin/translate.py", line 19, in translate
    translator = build_translator(opt, report_score=True)
  File "/home/s2964007/Thesis/VirtualEnv/lib/python3.7/site-packages/onmt/translate/translator.py", line 28, in build_translator
    fields, model, model_opt = load_test_model(opt)
  File "/home/s2964007/Thesis/VirtualEnv/lib/python3.7/site-packages/onmt/model_builder.py", line 95, in load_test_model
    map_location=lambda storage, loc: storage)
  File "/home/s2964007/Thesis/VirtualEnv/lib/python3.7/site-packages/torch/serialization.py", line 419, in load
    f = open(f, 'rb')
FileNotFoundError: [Errno 2] No such file or directory: 'Models/SVO_AN'


###############################################################################
Peregrine Cluster
Job 8943934 for user 's2964007'
Finished at: Mon Dec  9 12:30:53 CET 2019

Job details:
============

Name                : onmt_test
User                : s2964007
Partition           : gpu
Nodes               : pg-gpu28
Cores               : 12
State               : FAILED
Submit              : 2019-12-09T12:23:38
Start               : 2019-12-09T12:28:57
End                 : 2019-12-09T12:30:53
Reserved walltime   : 00:20:00
Used walltime       : 00:01:56
Used CPU time       : 00:01:34 (efficiency:  6.77%)
% User (Computation): 92.94%
% System (I/O)      :  7.05%
Mem reserved        : 5000M/node
Max Mem used        : 2.76G (pg-gpu28)
Max Disk Write      : 20.48K (pg-gpu28)
Max Disk Read       : 18.10M (pg-gpu28)


Acknowledgements:
=================

Please see this page if you want to acknowledge Peregrine in your publications:

https://redmine.hpc.rug.nl/redmine/projects/peregrine/wiki/ScientificOutput

################################################################################
